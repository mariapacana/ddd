<template name="audience">
  <head>
    <title>Digital Device Dance</title>
  </head>

  <div class="audience">
    {{#with currentRound}}
      {{#if gameNotStarted}}
        {{> welcome}}
      {{else}}
        {{#if gameOver}}
          {{> ending}}
        {{else}}
          {{> audience_game}}
        {{/if}}
      {{/if}}
    {{/with}}
  </div>
</template>

<template name="audience_game">
  {{#if gettingVotes}}
    {{#if userIsAllowedToVote}}
      {{> options}}
    {{else}}
      <p>Sorry, you can't vote in this round.</p>
    {{/if}}
  {{else}}
    {{#if performingAction}}
      {{> audience_game_action}}
    {{else}}
      {{#if gettingFeedback}}
        {{#if endOfLevel}}
          {{> total_rating}}
        {{else}}
          {{> audience_game_feedback}}
        {{/if}}
      {{/if}}
    {{/if}}
  {{/if}}
</template>

<template name="audience_game_action">
  {{#if userHasMessage}}
    {{> message }}
  {{/if}}
  {{> winner}}
</template>

<template name="audience_game_feedback">
  <div>
    {{#if submittedRating}}
      {{> currentRating}}
    {{else}}
      {{> rating}}
    {{/if}}
  </div>
</template>
